@if (isLoading) {
<div class="comic-card bg-white p-6 md:p-8 border-2 border-black rounded-xl text-center">
    <p class="text-lg text-gray-600">Cargando tu progreso...</p>
</div>
} @else if (noResults) {
<div class="comic-card bg-white !mb-5 p-6 md:p-8 border-2 border-black rounded-xl">
    <h1 class="garet-heavy text-3xl md:text-4xl text-gray-900 mb-2">
        ¡Bienvenido, <span class="text-[var(--primary-purple)]">{{ userName }}</span>!
    </h1>
    <p class="text-base md:text-lg text-gray-600 mb-8">
        Parece que este es tu primer viaje. Realiza el test para ver tu progreso.
    </p>
    <a routerLink="/wellness-test-panel">Realizar el test por primera vez< <button class="cursor-pointer w-full flex items-center justify-center gap-3 mt-8 
                   bg-[var(--primary-purple)] text-white garet-heavy 
                   text-lg md:text-xl py-3 px-6 rounded-lg 
                   border-2 border-black 
                   transition-all active:translate-y-1 active:shadow-none" style="box-shadow: 4px 4px 0px #000;">
            <i class="ph-fill ph-play-circle text-2xl"></i>
            </button>
    </a>
</div>
} @else {
<div class="comic-card bg-white !mb-5 p-6 md:p-8 border-2 border-black rounded-xl">

    <h1 class="garet-heavy text-3xl md:text-4xl text-gray-900 mb-2">
        ¡Qué bueno verte,
        <span class="text-[var(--primary-purple)]">{{ userName }}</span>!
    </h1>
    <p class="text-base md:text-lg text-gray-600 mb-8">
        Recuerda, cada paso <b class="text-[var(--primary-purple)]">cuenta</b> para tu bienestar.
    </p>

    <h2 class="text-lg text-gray-800 mb-3">
        Tu progreso en <b>bienestar digital</b>:
    </h2>

    <div class="w-full bg-gray-200 rounded-full h-5 border-2 border-black overflow-hidden">
        <div class="h-full rounded-full transition-all duration-500" [style.width.%]="progressPercentage" [ngClass]="{
             'bg-green-500': colorClass === 'green',
             'bg-yellow-400': colorClass === 'yellow',
             'bg-red-500': colorClass === 'red',
             'bg-gray-400': colorClass === 'gray'
           }">
        </div>
    </div>

    <p class="text-gray-600 mt-3">
        Resultado de tu último test:
        <span class="font-bold" [ngClass]="{
              'text-green-600': colorClass === 'green',
              'text-yellow-600': colorClass === 'yellow',
              'text-red-600': colorClass === 'red',
              'text-gray-600': colorClass === 'gray'
            }">
            {{ resultCategory }}.
        </span>
        {{ resultText }}
    </p>

    <a routerLink="/wellness-test-panel">
        <button class="comic-button cursor-pointer w-full flex items-center justify-center gap-3 mt-8 
                   bg-[var(--primary-purple)] text-white garet-heavy 
                   text-lg md:text-xl py-3 px-6 rounded-lg 
                   border-2 border-black 
                   transition-all active:translate-y-1 active:shadow-none" style="box-shadow: 4px 4px 0px #000;">
            <i class="ph-fill ph-question text-2xl"></i>
            REALIZAR TEST DE NUEVO
        </button>
    </a>
</div>
}